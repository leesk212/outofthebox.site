---
tags: 🌟paper-review security cloud
toc : True
---

# Abstract
* 클라우드 컴퓨팅을 표적으로 하는 위협의 수가 증가하고 특별히 권한이 부여된 소프트웨어 취약점의 악용으로 인해 클라우드 서비스 공급자의 보안 관리자는 하드웨어 기반 솔루션을 배포해야 합니다.
* 이러한 솔루션은 데이터 센터의 CISC 및 RISC 아키텍처 제품군을 포함한 광범위한 컴퓨팅 플랫폼에 대해 더 나은 하드웨어 지원 보안 기능을 제공할 수 있습니다. 
* 그들의 목표는 심각한 보안 취약성을 포함하는 것으로 입증된 운영 체제 또는 하이퍼바이저와 같은 일부 높은 권한의 시스템 소프트웨어 대신 *하드웨어에 대한 신뢰를 기반*으로 하여 공격 표면을 줄이는 것입니다.
* 따라서 일부 보안에 회의적인 사용자를 위한 클라우드 컴퓨팅 모델의 채택을 제한합니다.
* __In this paper, we give cloud users and customers, application developers and security managers a comprehensive overview of four major industrial-scale commercial hardware-based solutions brought by major vendors in the cloud market.__
* 보안, 기능 및 배포의 세 가지 범주에 맞는 20개 이상의 기준과 관련하여 __Intel TXT, ARM TrustZone, AMD SEV 및 Intel SGX__ 기술을 제시, 분석 및 비교합니다.
* 우리는 이러한 각 기술에 대해 논의하고 특히 뛰어난 사례를 보여줍니다. 우리의 비교는 IT 관리자가 특정 보안 요구 사항과 미래의 클라우드 마이그레이션을 위해 채택할 더 나은 산업 기술에 대해 올바른 결정을 내리는 데 도움이 될 수 있습니다.

# Introduction
* 클라우드 컴퓨팅은 배포 비용 절감, 가상화를 통한 VM(가상 머신) 간의 물리적 리소스 공유, 유연하고 탄력적인 주문형 서비스와 같은 많은 이점 덕분에 지난 10년 동안 널리 채택되었습니다.
* 그러나 모든 컴퓨팅 환경에 존재하는 기존 위협 외에도 클라우드 컴퓨팅은 *물리적 코로케이션 패러다임*으로 인해 고객이 __동일한 물리적 리소스를 공유__ 에 따라 많은 추가 위협의 문을 열었습니다(Singh, 2014; Zoltn dm Mann, 2017).
* 클라우드 환경을 대상으로 하는 공격이 증가함에 따라(DDoS(Distributed Denial of Service) 또는 DoS 공격, Man-in-the-Cloud 공격(Jabir et al., 2016), 루트킷 공격(Modi et al., 2012), 재생 코드 공격(Hetzelt and Buhren, 2017), 코드 주입 공격 등), 고객은 클라우드 서비스를 채택하기 위해 더 많은 보장이 필요합니다.
* 따라서 소프트웨어 기반 솔루션과 하드웨어 기반 솔루션의 두 가지 주요 제품군으로 나눌 수 있는 이러한 위협에 대처하기 위해 많은 솔루션이 제안되었습니다.
  1. Software-based solution
    * 한편으로 소프트웨어 기반 솔루션은 시장에 등장한 최초의 보안 솔루션입니다. 
    * 그들은 상대적으로 구현하기 쉽고 저렴하며 구현을 검토하고 업그레이드할 수 있는 기능을 제공합니다. 
    * 실제로, 클라우드 시스템 보안을 향상시키지만 __VM을 보호하기에는 불충분할 수 있습니다(Szefer and Lee, 2012).__
    * TCB(Trust Computing Base)에 수백만 줄의 코드(LOC)가 있는 신뢰할 수 있는 하이퍼바이저가 필요하기 때문입니다. 
    * 이는 LOC의 수가 많을수록 거대한 코드에 *취약점이 존재할 확률이 증가*하고 복잡한 소프트웨어를 검증하는 작업이 여전히 매우 어렵기 때문에 큰 공격 표면을 유도합니다(Kaplan et al., 2016).
    * 이러한 취약점은 해커가 코드 삽입, 코드 재사용, 포크 및 롤백, 공모 및 루트킷과 같은 공격을 가능하게 하기 위해 악용될 수 있습니다. 
    * 또한, 최근 연구 보고서에 따르면 OS(운영 체제), 하이퍼바이저( Asvija et al., 2019), BIOS 및 SMM(시스템 관리 모드) 계층은 알려진 취약점을 악용하고 클라우드 컴퓨팅 인프라를 손상시키기 위해 쉽게 표적이 될 수 있습니다.
  2. Hardware-based solution
    * 반면에 하드웨어 기반 솔루션은 전용 IC(집적 회로) 또는 특수 하드웨어 아키텍처로 보안 작업을 제공하도록 특별히 설계된 완전히 별도의 프로세서를 사용합니다. 
    * 암호화 키, 생체 정보, 암호 및 시스템 구성의 중요한 매개변수와 같은 민감한 정보는 에 비해 상대적으로 덜 복잡한 실리콘 구현 암호화 프리미티브, 난수 생성기, 변조 감지 알고리즘 등 덕분에 하드웨어에 의해 보호됩니다. (검증 작업을 비교적 쉽게 만드는 소프트웨어 구현)
    * 따라서 하드웨어 기반 솔루션을 사용하면 이러한 보안 설정을 변경하는 것이 더 어렵고 비용이 많이 들 수 있습니다. 
    * 높은 비용 외에도, __하드웨어 기반 솔루션은 최적화된 시스템 성능으로 클라우드 인프라, 임베디드 장치 및 주변 장치에 대한 무단 액세스에 대한 큰 보안 증거를 제공합니다.__
    * 최근 몇 년 동안 학계와 산업계에서 여러 하드웨어 기반 솔루션이 제안되었습니다. 
    * 산업 규모에서 TPM(Trust Processor Module), Intel TXT(Trust eXecution Technology), ARM TrustZone, AMD SEV(Secure Execution Virtualization) 및 Intel SGX(Software Guard eXtention)( Lie and Maniatis, 2017, Mofrad et al., 2018, Pinto 및 Santos, 2019, Zhang 및 Zhang, 2016).
    * 이러한 보안 솔루션은 최종 사용자가 신뢰할 수 있는 클라우드 환경에서 애플리케이션을 실행할 수 있는 TEE(신뢰할 수 있는 실행 환경)를 제공하기 위해 CSP(클라우드 서비스 공급자)에서 활용할 수 있습니다.
    * 클라우드 테넌트가 민감한 데이터를 보호하고 VM의 보안을 보장하는 것에 대해 우려하고 있고, 시장에 고객이 사용할 수 있는 산업 규모의 하드웨어 기반 보안 솔루션이 많기 때문에 이 백서에서 심층 분석과 포괄적인 비교를 제안합니다.
    * 클라이언트, 애플리케이션 디자이너 및 보안 전문가가 미래의 클라우드 마이그레이션을 위해 채택할 기술을 결정하는 데 도움이 되도록 그들 사이에서 연구하십시오.
    * Intel TXT, ARM TrustZone, AMD SEV 및 Intel SGX의 4가지 산업 규모 하드웨어 기반 보안 솔루션을 비교합니다. 
    * TPM은 예를 들어 Intel TXT와 결합할 수 있는 전용 특수 목적 칩으로 가장 일반적으로 구현되기 때문에 포함하지 않습니다.
    * 우리가 아는 한, 이 백서는 최종 사용자가 사용할 수 있는 주요 산업용 하드웨어 기반 신뢰 솔루션에 대한 포괄적인 개요와 최신의 철저한 비교를 제공하는 최초의 문서입니다.
 * 백서의 나머지 부분은 다음과 같이 구성됩니다. 
    * 섹션 2에서는 연구된 솔루션이 배포될 것으로 예상되는 클라우드 환경 설정과 해당 솔루션이 다루는 일반적인 공격자 모델에 대해 설명합니다. 
    * 섹션 3에서는 위에서 언급한 각 솔루션에 대한 간략한 설명을 제공합니다. 
    * 섹션 4에서는 우리가 정의한 기준에 따라 비교에 대해 자세히 설명합니다. 
    * 섹션 5에서는 각 솔루션이 탁월한 특정 경우에 특히 중점을 두고 다양한 솔루션에 대해 논의합니다. 
    * 섹션 6에서는 우리와 유사한 접근 방식을 따르지만 많은 다른 측면에서 다른 관련 작업을 제시합니다. 
    * 섹션 7장에서는 논문을 마무리 짓고 앞으로의 과제를 제시한다.

# Cloud setup and assumptions
* 클라우드 컴퓨팅의 다중 테넌트 특성으로 인해, 사용자가 잠재적으로 손상된 클라우드 소프트웨어 스택 및 악의적인 클라우드 운영자가 있는 클라우드 서버에서 원격 계산을 위해 데이터를 아웃소싱할 때 데이터 보안 및 액세스 제어를 보장하기가 어렵습니다( Gu et al., 2020 ).
* 내부 프라이빗 클라우드의 구축은 하이브리드, 퍼블릭 클라우드에 비해 안전하지만, 서버 하드웨어와 시스템 소프트웨어에서 매번 치명적인 취약점이 발견되어 보안 문제는 여전히 온전한 상태로, Meltdown(Lipp et al., 2018), Spectre(Kocher et al., 2019) 및 RowHammer(Mutlu 및 Kim, 2019)등의 공격들이 있습니다.
* IaaS(Infrastructure-as-a-Service), PaaS(Platform as-a-Service) 또는 SaaS(Software-as-a-Service) 또는 기타 모든 종류의 서비스에 대한 CSP는 클라우드-tenant 데이터 보호에 대한 모든 공통 관심사를 공유합니다.
* TCB가 크고 공격 표면이 큰 소프트웨어 기반 솔루션을 사용하는 대신, 하드웨어 기반 TEE를 활용하여 시스템 소프트웨어를 사용하는 소프트웨어 기반 솔루션보다 더 많은 보안 보장을 제공할 수 있습니다.
* 하드웨어 지원 TEE는 민감한 데이터가 신뢰할 수 있는 환경에서 처리되도록 런타임 시 소프트웨어 실행을 격리함으로써 시스템 수준에서 보안 경계를 제공하는 효율적인 방어 메커니즘 역할을 하도록 설계된 보안 격리 기술입니다(Gu et al., 2020 ) 
* 신뢰할 수 없거나 취약한 시스템 소프트웨어가 있는 공용 클라우드 제공업체의 인프라에서도 마찬가지입니다.
* 이러한 솔루션의 하드웨어에 대한 신뢰가 바탕이 되므로 최종 사용자의 비밀 데이터/코드를 조작하는 모든 서비스와 함께 거의 모든 클라우드 유형을 포함하는 대규모 클라우드 모델을 고려합니다.
* 후자는 공격자 모델에서 곧 설명할 것처럼 그들이 사용/조작하는 소프트웨어를 제외하고 소프트웨어 스택의 모든 수준에서 CSP를 신뢰하지 않을 수 있습니다.

## Attacker model
우리는 소프트웨어를 완전히 제어할 수 있는 능력을 가진 공격자를 고려합니다. 
즉, 권한 있는 소프트웨어를 조작하고 조작하고 시스템에 맬웨어를 삽입하거나 악성 소프트웨어 구성 요소를 배포할 수도 있습니다. 
여기에는 신뢰할 수 없는 것으로 간주되는 OS, BIOS, SMM 및 VMM이 포함됩니다.

공격자는 메모리를 읽을 수 있고 물리적 공격을 수행할 수 있지만 CPU에서는 수행할 수 없는 것으로 간주됩니다. 
즉, 시스템의 CPU에 물리적으로 액세스할 수 없지만 메모리 컨트롤러 또는 플랫폼 구성 요소를 상호 연결하는 버스를 포함한 플랫폼의 다른 하드웨어 구성 요소에는 액세스할 수 있습니다.

공격자는 내부자이거나 원격 공격자일 수 있지만 암호화 기본 요소를 깨뜨릴 수 없는 것으로 간주됩니다.
이 모델에서는 서비스 거부 공격, 물리적 기반 공격, 부채널 및 타이밍 공격, 네트워크 기반 공격을 고려하지 않습니다(Atamli-Reineh and Martin, 2017; Kocher et al., 2019; Lipp et al. , 2018, Maene et al., 2018, Mutlu and Kim, 2019, Van Bulck et al., 2018).

# Hardware-based solutions
* 현재 데이터 센터 시장은 Intel과 AMD가 각각 제조한 Xeon 및 Opteron 마이크로프로세서 아키텍처가 주도하고 있습니다.
* 그럼에도 불구하고 일부에서는 ARM 프로세서의 크기, 에너지 효율성, 유연성 및 저렴한 비용으로 인해 ARM이 서버용 Intel 및 AMD 아키텍처의 실행 가능한 대안이 될 수 있다고 주장했습니다( Pinto and Santos, 2019 ).
* 이를 기반으로 이 섹션에서는 다음 섹션에서 비교할 세 가지 주요 공급업체의 __하드웨어 기반 솔루션__ 을 제시합니다.

## 3.1 Intel TXT (difficult to understand)

![image](https://user-images.githubusercontent.com/67637935/147540693-efa3c653-e596-491a-b21e-568624ee1ddd.png)

* Intel TXT는 이전에 LaGrande Technology로 알려졌습니다. 2005년에 발표되었으며 나중에 Intel TXT로 이름이 변경되었습니다. 이는 TCG(Trusted Computing Group)에서 공식적으로 지정한 전용 마이크로 프로세서인 __TPM__ 을 사용하여 신뢰할 수 있는 플랫폼을 만드는 것을 목표로 했습니다(Maene et al., 2018).
* TPM은 하드웨어 장치 내에서 암호화 기본 요소와 키를 보호하고 통합하도록 설계되었습니다.
* 그림 1과 같이 TXT는 TPM의 대안이 아니지만 기본 보안 서비스 제공에 크게 의존하고 있습니다(Cotan et al., 2017; Wojtczuk and Rutkowska, 2009).
* IOH/PCH(Intel VT-d 기술을 활용하는 I/O Hub for Input/Output 및 프로세서용 Platform Controller Hub)를 지원하는 칩셋에 통합되어 있으며 잠재적인 가상화 기능이 있는 BIOS 및 하나 이상의 Intel Xeon 프로세서와 상호 작용합니다. (측정 및 코드 인증 기능 특징을 제공하기 위해서)
* 그림 1에서 볼 수 있듯이 BIOS에는 시스템 시작(인증 코드 모드)을 위해 프로세서 내에서 격리된 실행 환경을 활성화하기 위해 Intel에서 생성하고 서명한 ACM(인증 코드 모듈)이 포함되어 있습니다.
* 위의 하드웨어 설정을 기반으로 MLE(Measured Launch Environment)가 생성되어 시스템 소프트웨어를 확인하고 증명합니다.
* Intel TXT는 신뢰할 수 있는 환경을 구축하도록 유도하는 시스템 소프트웨어의 측정 및 제어된 부팅을 제공합니다(Intel Corporation, 2017). 소프트웨어 구성 요소의 무결성을 증명하거나 반증할 수 있는 개별 무결성 측정을 제공하므로 부팅 순서, BIOS, OS, 소프트웨어 구성 및 정책의 무단 변경을 감지할 수 있습니다.
* 또한 Intel TXT는 시스템이 Intel TXT를 올바르게 호출하고 코드가 보호된 환경에서 실행되고 있는지 확인하는 증명 메커니즘을 제공합니다.
* 데이터 무결성이 가장 중요한 클라우드 컴퓨팅 및 기타 사용 사례에 특히 적합합니다(Greene, 2013b).
* Amazon AWS, VMWare vCloud 및 OpenStack과 같은 주요 클라우드 인프라에서 사용됩니다.
* Intel TXT의 프로세서에 대한 신뢰가 바탕이 되었기 때문에 이 솔루션은 서버의 민감한 정보에 대해 더 나은 보안 보호 기능을 제공합니다.
* 내부에 비밀 데이터가 저장되고 조작되는 메모리의 일부 영역을 지정하여 격리된 실행 환경을 만듭니다. 
* 또한 암호화 키를 하드 드라이브에 안전하게 저장하기 위한 밀봉 서비스를 제공합니다.

## 3.2 ARM Trust Zone

* TrustZone은 ARM 프로세서 아키텍처의 선택적 하드웨어 보안 확장으로 컴퓨터 리소스를 __일반 세계__ 와 __보안 세계__ 의 두 실행 세계로 분할하여 안전한 실행 환경을 제공합니다(Ngabonziza et al., 2016).
* TrustZone 기술은 2002년에 발표되었지만 2009년까지 널리 사용되지 않았습니다. 
* ARM은 서버 및 IoT 장치를 포함한 광범위한 플랫폼을 지원하기 위해 ARM64 및 ARMv8-M 아키텍처에 이를 통합했습니다(Li et al., 2019).
* TrustZone을 사용하면 프로세서는 두 가지 가능한 보안 세계 중 하나에서 명령을 실행할 수 있습니다. 
* 즉, 신뢰할 수 없는 코드가 실행되는 __일반 세계__ 와 보안 서비스가 실행되는 __보안 세계__ (Cotan et al., 2017).

![image](https://user-images.githubusercontent.com/67637935/147545791-542f77ac-49b2-434f-8c5f-6b568a6b75c8.png)

* 그림 2와 같이, 이 프로세서 모드들은 독립적인 메모리 공간과 그리고 다른 권한(privileges)를 갖는다.
* 두 세계에 공통적으로 존재하는 사용자 모드(사용자 응용 프로그램이 실행됨)와 권한 모드(시스템 소프트웨어가 실행됨) 외에도 그림 2는 보안 세계가 __모니터__ 라는 세 번째 모드에서 실행될 수 있음을 보여줍니다.
* moniter 모드는 ARM 프로세서의 특정 부분에서 지원되며 내부에서 실행되는 소프트웨어는 다른 모든 소프트웨어를 제어합니다.
* moniter 모드에서 privileged 모드로 또는 그 반대로의 전환은 일반적인 프로세서 인터페이스, 즉 ISA(명령어 집합 아키텍처)를 통해 수행됩니다.
* ARM TrustZone 및 특정 조건에서 보안 세계(Privileged Mode)의 코드는 일반 세계(User Mode)의 주소 공간에 액세스할 수 있지만 그 반대는 불가능합니다. 
* 이 메커니즘은 NS 비트라고 하는 프로세서의 하드 코딩된 비트에 의해 제어됩니다. 
* 프로세서의 현재 실행 세계를 지정하고 일부 I/O 버스를 사용하여 주변 장치에 전달됩니다(Santos et al., 2014).

![image](https://user-images.githubusercontent.com/67637935/147546649-67bb4dc3-3c02-46db-8da8-4ea5ff36f3fd.png)

* NS 비트에 대한 액세스는 그림 3과 같이 SMC(시스템 모니터 호출)에 의해 트리거되는 보안 모니터에 의해 보호됩니다(Gonzalez, 2015).
* CPU 코어 내부의 아래쪽 화살표 선은 SMC를 통한 소프트웨어-하드웨어 상호 작용을 나타내고 다른 왼쪽 화살표 선은 보안 세계 주소 공간에서 실행되는 소프트웨어에서 일반 세계 주소 공간에서 실행되는 소프트웨어로의 직접 액세스를 나타냅니다.
* CPU 코어 외부의 다른 라인은 이를 메모리 및 I/O 장치에 연결하는 다른 버스를 나타냅니다.
